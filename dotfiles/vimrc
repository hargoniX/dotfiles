call plug#begin('~/.vim/plugged')
" Surround
Plug 'tpope/vim-surround'

" Colorscheme
Plug 'morhetz/gruvbox'

" Automatically switch indent config
Plug 'tpope/vim-sleuth'

" Giiiiit
Plug 'tpope/vim-fugitive', { 'on': 'Git' }

" Git diff in gutter
Plug 'airblade/vim-gitgutter'

" Language specific config
" Rust
Plug 'rust-lang/rust.vim', { 'for': 'rust' }

" Ruby
Plug 'tpope/vim-endwise', { 'for': 'ruby' }
Plug 'vim-ruby/vim-ruby', { 'for': 'ruby' }
Plug 'tpope/vim-rails', { 'for': 'ruby' }
call plug#end()

" General settings
source ~/.vim/local-settings.vim
behave xterm
syntax enable

set nocompatible
set autoindent
set smarttab
set textwidth=120
set expandtab
set nowrap
set showfulltag
set undolevels=1000
set history=200
set showmatch
set noswapfile
set backspace=indent,eol,start
set noautowrite
set nobackup
set ruler
set relativenumber
set number
set laststatus=2
set ignorecase
set whichwrap=b,s,h,l,<,>,[,]
set hlsearch
set foldmethod=indent
set foldlevel=99

set encoding=utf-8
set termencoding=utf-8
set fileencodings=ucs-bom,ascii,utf-8,latin1

filetype on
filetype plugin on
filetype indent plugin on

" disable arrow keys
noremap <Up> <Nop>
noremap <Down> <Nop>
noremap <Left> <Nop>
noremap <Right> <Nop>
inoremap <Up> <Nop>
inoremap <Down> <Nop>
inoremap <Left> <Nop>
inoremap <Right> <Nop>

" split navigation
nmap <C-h> :winc h<CR>
nmap <C-j> :winc j<CR>
nmap <C-k> :winc k<CR>
nmap <C-l> :winc l<CR>

" gruvbox
colorscheme gruvbox
set background=dark

" transparency
hi Normal guibg=NONE ctermbg=NONE

" line limit column
set colorcolumn=80

" highlight current line
set cursorline

" show whitespaces / tabs
set list
set listchars=eol:$,tab:>-,trail:~,extends:>,precedes:<
" Change cursor shape in different modes
let &t_SI = "\<Esc>[6 q"
let &t_SR = "\<Esc>[4 q"
let &t_EI = "\<Esc>[2 q"

" Netrw config
let g:netrw_banner = 0
let g:netrw_browse_split = 0

autocmd StdinReadPre * let s:std_in=1
" automatically open netrw when no file is specified
autocmd VimEnter * if argc() == 0 && !exists("s:std_in") | Ex | endif
" automatically open netrw when opening a directory
autocmd VimEnter * if argc() == 0 && !exists("s:std_in") | Ex | endif

" open netrw on Ctrl + N
map <C-n> :Vex<CR>

" git gutter
autocmd BufWritePost * GitGutter
